services:
  - type: web                         # ← Web Service (not worker)
    name: pw-auto-bot
    runtime: python
    buildCommand: pip install -r requirements.txt
    startCommand: python bot.py
    healthCheckPath: /health          # Render pings this to check if alive
    envVars:
      - key: BOT_TOKEN
        sync: false                   # Set manually in Render dashboard
      - key: WEBHOOK_URL
        sync: false                   # Your Render app URL e.g. https://pw-auto-bot.onrender.com
      - key: API_ID
        sync: false
      - key: API_HASH
        sync: false
      - key: SESSION_STRING
        sync: false
      - key: SUDO_USERS
        sync: false
      - key: DB_PATH
        value: /var/data/bot.db       # Persistent disk path
      - key: PORT
        value: "10000"                # Render always uses 10000

disk:
  - name: data
    mountPath: /var/data              # Persistent disk — DB survives restarts
    sizeGB: 1
